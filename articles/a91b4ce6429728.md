---
title: "CursorでAIに小さなユニットでタスクを依頼する"
emoji: "🔖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

## この記事はなに？

Cursorを用いたAIとの共同開発フローを紹介します。

#### この記事で扱わないこと
  - ツールの使い方の説明
  - チャレンジングな with AI 開発の挑戦部分

#### この記事で扱うこと
  - 直ぐに恩恵を得られるAIとの共同開発のフロー
  - 自分なりの考え方


↓↓↓挑戦的でチャレンジングな記事はこちらへ↓↓↓
[たぬにーさんの記事を貼る]


## 前提

- Cursor Composer Agent に **大きなタスクは渡さない**
- AIには、**小さなユニットに分けてタスクを実行してもらう**事で確実性を上げる

複雑性が小さいタスクや、既存コードが小さい場合には、Cursor Composer Agent に大きなタスクを渡してもらっても十分にWorkすると思います。
ただ、複雑性とコード量が増えてくると、小さい単位にタスクを切らないと、結局待ち時間が大きいのにあまり使えないコードが上がってきて終わった。みたいになることが多いと感じています。

その原因は、おそらく**人間が正しくAIに context を渡す事ができない**ため
人間の context を渡す能力とコストがボトルネックになってしまうなら、一旦スコープを小さくして context を正しく渡せるようにしてみようという発想です。

(Anthropic CEOの語る「事前学習 + 強化学習」のモデルの登場か、Cursor等のアプリケーション側で優秀な memories 機能が備われば話は違うのかもしれませんね)

### 実装のポイント

- **ユニットを小さく**
- **テストを先に書いて、成果物を明確に**

### モデルとインターフェースの選択

- **簡単なタスク:** command + K (with gemini-2.0-flash, claude-3-5-haiku)
- **複雑なタスク:** command + L (with deepseek-r1, o3-mini)
- **自走させたいタスク:** command + i Composer Agent YOLO (with claude-3-5-sonnet)

## ex: 純粋関数の実装

まず、一番優秀なのは純粋関数の実装だと思っています。
副作用がなく、外部の状態に依存せず、同じ入力に対して常に同じ出力を返すので、テストが用意で成果物が明確です。　

### テストケースを用意する

まずは達成したい物を明確にするためにテストケースを起こしましょう。

手順イメージ
1. テストケースを雑に起こす
   - コメントとして書く
   - describe, context, itとして書く
2. AIにブラッシュアップしてもらう（フィードバック）
   - 簡単な物は → command + K (with gemini-2.0-flash, claude-3-5-haiku)
   - 複雑な物は → command + L (with o3-mini, deepseek-r1)

## ex: Rails などの実装のケース

### テストを書け

## 失敗談

- 大きなタスクを渡す（ex: 大きめのlibrary update）
